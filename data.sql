
--  Initially drops all tables

DROP TABLE IF EXISTS tbl_scoring CASCADE;
DROP TABLE IF EXISTS tbl_application CASCADE;
DROP TABLE IF EXISTS tbl_customer CASCADE;

-- Create Customer Table


-- Create Scoring Table
CREATE TABLE tbl_scoring
(
    id INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    tckn VARCHAR(11) UNIQUE,
    scoring INT NOT NULL

);

-- Create Application Table
CREATE TABLE tbl_application
(
    id INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    tckn VARCHAR(11) UNIQUE,
    result VARCHAR,
    credit_limit INT,
    created_at TIMESTAMP

);

CREATE TABLE tbl_customer
(
    id   INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    tckn VARCHAR(11) UNIQUE,
    fullname VARCHAR(100) NOT NULL,
    monthly_income INT,
    phone_number VARCHAR
    ---FOREIGN KEY (tckn) REFERENCES tbl_application (tckn) ON DELETE CASCADE,
    ---FOREIGN KEY (tckn) REFERENCES tbl_scoring (tckn) ON DELETE CASCADE

);
--  Sample static test values
INSERT INTO tbl_scoring(tckn, scoring)
VALUES ('11111111111', 100),
       ('22222222222', 200),
       ('33333333333', 300),
       ('44444444444', 400),
       ('55555555555', 500),
       ('66666666666', 600),
       ('77777777777', 700),
       ('88888888888', 800),
       ('99999999999', 900),
       ('10000000000', 1000),
       ('11000000000', 1100),
       ('12000000000', 1200),
       ('13000000000', 1300),
       ('14000000000', 1400),
       ('15000000000', 1500);

INSERT INTO tbl_application(tckn, result, credit_limit, created_at)
VALUES ('11111111111', NULL, NULL, NULL),
       ('22222222222', NULL, NULL, NULL),
       ('33333333333', NULL, NULL, NULL),
       ('44444444444', NULL, NULL, NULL),
       ('55555555555', NULL, NULL, NULL),
       ('66666666666', NULL, NULL, NULL),
       ('77777777777', NULL, NULL, NULL),
       ('88888888888', NULL, NULL, NULL),
       ('99999999999', NULL, NULL, NULL),
       ('10000000000', NULL, NULL, NULL),
       ('11000000000', NULL, NULL, NULL),
       ('12000000000', NULL, NULL, NULL),
       ('13000000000', NULL, NULL, NULL),
       ('14000000000', NULL, NULL, NULL),
       ('15000000000', NULL, NULL, NULL);

INSERT INTO tbl_customer(tckn, fullname, monthly_income, phone_number)
VALUES ('11111111111', 'ALTAN AKPINARLI', 1100, '5353215476'),
       ('22222222222', 'MESUT YAPICI', 2200, '5353215476'),
       ('33333333333', 'TOLGA CAN TOSUN', 3300, '5353215476'),
       ('44444444444', 'SIDIKA KESEN', 4400, '5353215476'),
       ('55555555555', 'UYSAN AYDINLI', 5500, '5353215476'),
       ('66666666666', 'MEHMET AY', 6600, '5353215476'),
       ('77777777777', 'MURAT BALCI', 7700, '5353215476'),
       ('88888888888', 'KASIM ETYEMEZ', 8800, '5353215476'),
       ('99999999999', 'DERYA SEMA DURGUT', 9900, '5353215476'),
       ('10000000000', 'MEHTAP KAREM', 10000, '5353215476'),
       ('11000000000', 'ENES KOCA', 11000, '5353215476'),
       ('12000000000', 'MEHMET BURHAN HASAN', 12000, '5353215476'),
       ('13000000000', 'ARYA BORAN', 13000, '5353215476'),
       ('14000000000', 'KENAN ERKEN', 14000, '5353215476'),
       ('15000000000', 'SERVET ERTEN', 15000, '5353215476');



